{% extends "base.html" %}

{% block content %}
  <div class="flex items-start justify-between gap-4">
    <div>
      <h1 class="text-2xl font-semibold tracking-tight">Bible Editor</h1>
      <p class="mt-2 text-slate-300">Edit your novel bible section by section with AI assistance. Maintains full context for consistency.</p>
    </div>
    <div class="flex gap-2">
      <form
        hx-post="/bible/import"
        hx-target="#bible-sections"
        hx-swap="innerHTML"
        enctype="multipart/form-data"
      >
        <input
          type="file"
          name="uploaded_file"
          accept=".txt,.md"
          class="hidden"
          id="file-upload"
        />
        <label
          for="file-upload"
          class="cursor-pointer rounded border border-slate-700 bg-slate-900/60 px-3 py-2 text-sm hover:bg-slate-900"
        >
          Import Document
        </label>
      </form>
      <button
        class="rounded border border-slate-700 bg-slate-900/60 px-3 py-2 text-sm hover:bg-slate-900"
        hx-get="/bible/export"
        hx-target="#bible-sections"
        hx-swap="innerHTML"
      >
        Export Full Bible
      </button>
    </div>
  </div>

  <div id="bible-sections" class="mt-6" hx-get="/bible/sections" hx-trigger="load" hx-swap="innerHTML"></div>
{% endblock %}
